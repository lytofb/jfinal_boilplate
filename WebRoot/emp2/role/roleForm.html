<#include "/emp2/common/_layout.html"/> <@css>
<link href="${base_path}/emp2/js/advanced-datatable/css/demo_page.css"
	rel="stylesheet">
<link href="${base_path}/emp2/js/advanced-datatable/css/demo_table.css"
	rel="stylesheet">
<link href="${base_path}/emp2/js/data-tables/DT_bootstrap.css"
	rel="stylesheet">
</@css> <@layout>

<!-- page heading start-->
<div class="page-heading">
	<h3>角色管理</h3>
</div>
       <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="userModel" class="modal fade">
           <div class="modal-dialog">
               <div class="modal-content">
                   <div class="modal-header">
                       <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                       <h4 class="modal-title">关联用户</h4>
                   </div>
                   <div class="modal-body">
                       <form role="form" id="form" action="/role/editUserRel"> 
          		         <input type="hidden" name="roleid" id=roleid>
          		         <#list userList as user>
		              		 <input type="checkbox" name="checkbox"  id=checkuser_${user.id}>
		                     ${user.user_nick}
          		         </#list> 
                           <div class="checkbox"> <button type="button" id="userModelClick" class="btn btn-primary">提交</button></div>
                       </form>
                   </div>
               </div>
           </div>
       </div> 
       
        <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="permissionModel" class="modal fade">
           <div class="modal-dialog">
               <div class="modal-content">
                   <div class="modal-header">
                       <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                       <h4 class="modal-title">关联权限</h4>
                   </div>
                   <div class="modal-body">
                       <form role="form" id="form" action="/role/editUserRel"> 
          		         <input type="hidden" name="roleid" id=roleid>
          		         <#list permissionList as permission>
		              		 <input type="checkbox" name="checkbox" id=checkpermission_${permission.id}>
		                     ${permission.permission_name}
          		         </#list> 
                           <div class="checkbox"> <button type="button" id="permissionModelClick" class="btn btn-primary">提交</button></div>
                       </form>
                   </div>
               </div>
           </div>
       </div>
       
          <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="schemeModel" class="modal fade">
           <div class="modal-dialog">
               <div class="modal-content">
                   <div class="modal-header">
                       <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                       <h4 class="modal-title">关联数据源</h4>
                   </div>
                   <div class="modal-body">
                       <form role="form" id="form" action="/role/editUserRel"> 
          		         <input type="hidden" name="roleid" id=roleid>
	          		         <#list dataSourceList as dataSource>
			              		 <input type="checkbox" name="checkbox" id="checkdata_${dataSource.id}">
			                     ${dataSource.name}
	          		         </#list> 
                           <div class="checkbox"> <button type="button" id="dataSourceModelClick" class="btn btn-primary">提交</button></div>
                       </form>
                   </div>
               </div>
           </div>
       </div>
       

<!-- page heading end-->
<div class="wrapper">
             <div class="row">
                <div class="col-sm-12">
                <section class="panel">
                <header class="panel-heading">
                   	角色列表
                    <span class="tools pull-right">
                        <a href="javascript:;" class="fa fa-chevron-down"></a>
                        <a href="javascript:;" class="fa fa-times"></a>
                     </span>
                </header>
                <div class="panel-body">
                <div class="adv-table editable-table ">
                <div class="clearfix">
                    <div class="btn-group">
                        <button id="editable-sample_new" class="btn btn-primary">
                           	 添加角色 <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </div>
                <div class="space15"></div>
                <table class="table table-striped table-hover table-bordered" id="editable-sample">
                <thead>
                <tr>
                    <th>#</th>
                    <th>角色</th>
                    <th>角色昵称</th>
                    <th>关联用户</th>
                    <th>关联权限</th>
                    <th>关联scheme</th>
                    <th>修改</th>
                    <th>删除</th>
                </tr>
                </thead>
                <tbody>
    
			   <#list roleList as role>
                <tr class="">
                    <td>${role.id}</td> 
                    <td>${role.role_name}</td>
                    <td>${role.role_nickname}</td>
                    <td><a class="user_rel" href="javascript:;">关联用户</td>
                    <td><a class="permission_rel" href="javascript:;">关联权限</td>
                    <td><a class="scheme_rel" href="javascript:;">关联scheme</td>
                    <td><a class="edit" href="javascript:;">修改</a></td>
                    <td><a class="delete" href="javascript:;">删除</a></td>
                </tr>
                </#list> 
                </tbody>
                </table>
                </div>
                </div>
                </section>
                </div>
                </div>
        </div>
<!--body wrapper end-->
         <footer>
            2014 &copy; AdminEx by ThemeBucket
        </footer>

</section>
</@layout>
 <@script>
 <script>
    jQuery(document).ready(function() {
        EditableTable.init();
    });
</script>
<script type="text/javascript"
	src="${base_path}/emp2/js/advanced-datatable/js/jquery.dataTables.js"></script>
<script type="text/javascript"
	src="${base_path}/emp2/js/data-tables/DT_bootstrap.js"></script>
<script type="text/javascript"
	src="${base_path}/emp2/js/dynamic_table_init.js"></script>
<script type="text/javascript"
	src="${base_path}/emp2/js/role_table.js"></script>
	
</@script>